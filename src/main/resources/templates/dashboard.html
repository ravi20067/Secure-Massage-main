<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Dashboard</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link th:href="@{/css/dashboard.css}" rel="stylesheet">
</head>
<body>

<!-- ðŸ”¹ GLOBAL NAVBAR -->
<div th:replace="~{layout/header :: header}"></div>

<div class="container-fluid">
    <div class="row">

        <!-- ðŸ”¹ SIDEBAR -->
        <div class="col-lg-2 col-md-3 d-none d-md-block p-0">
            <div th:replace="~{layout/user-sidebar :: userSidebar}"></div>
        </div>

        <!-- ðŸ”¹ MAIN CONTENT -->
        <main class="col-lg-10 col-md-9 col-12 px-4 py-3">

            <!-- Welcome -->
            <div class="mb-4">
                <h4>
                    Welcome, <span th:text="${user.name}">User</span>
                </h4>
                <small class="text-muted">
                    Hereâ€™s a quick overview of your activity
                </small>
            </div>

            <!-- ðŸ”¹ CONTROL ROW (Future use) -->
            <div class="row mb-4">
                <div class="col-12">
                    <!-- Reserved for search / buttons / filters -->
                </div>
            </div>

            <!-- ðŸ”¹ DASHBOARD CARDS -->
            <div class="row g-3">

                <!-- Messages -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-12">
                    <div class="card text-bg-dark h-100 dashboard-card"
                         data-dashboard-link="/dashboard/messages">
                        <div class="card-body">
                            <i class="bi bi-chat-dots fs-3"></i>
                            <h6 class="mt-3">Total Messages</h6>
                            <h4 th:text="${totalMessages}">0</h4>
                        </div>
                    </div>
                </div>

                <!-- Unread -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-12">
                    <div class="card text-bg-dark h-100 dashboard-card"
                         data-dashboard-link="/dashboard/messages">
                        <div class="card-body">
                            <i class="bi bi-envelope-exclamation fs-3"></i>
                            <h6 class="mt-3">Unread Messages</h6>
                            <h4 th:text="${unreadMessages}">0</h4>
                        </div>
                    </div>
                </div>

                <!-- Groups -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-12">
                    <div class="card text-bg-dark h-100 dashboard-card"
                         data-dashboard-link="/dashboard/groups">
                        <div class="card-body">
                            <i class="bi bi-people fs-3"></i>
                            <h6 class="mt-3">Groups Joined</h6>
                            <h4 th:text="${groupsCount}">0</h4>
                        </div>
                    </div>
                </div>

                <!-- Files -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-12">
                    <div class="card text-bg-dark h-100 dashboard-card"
                         data-dashboard-link="/dashboard/uploads">
                        <div class="card-body">
                            <i class="bi bi-folder fs-3"></i>
                            <h6 class="mt-3">Files Uploaded</h6>
                            <h4 th:text="${filesCount}">0</h4>
                        </div>
                    </div>
                </div>

            </div>

        </main>
    </div>
</div>

<!-- ðŸ”¹ FOOTER -->
<div th:replace="~{layout/footer :: footer}"></div>

<!-- Scripts -->
<script th:src="@{/js/sidebar-js.js}"></script>
<script th:src="@{/js/dashboard-js.js}"></script>

</body>
</html>
